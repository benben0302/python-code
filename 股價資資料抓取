import requests
from bs4 import BeautifulSoup
import pandas as pd
from IPython.display import display

def print_full(x):
    df=pd.DataFrame(x)
    pd.set_option('display.max_rows',1000)
    pd.set_option('display.max_columns',None)
    display(df)
    
stockid=input("請輸入股票代號:")


res=requests.get("https://stock.wearn.com/cdata.asp?kind="+str(stockid))
res.encoding = 'big5'
content = res.text
soup = BeautifulSoup(content,'lxml')

current=[]
row=[]
for k in soup.findAll("th",{"bgcolor":"#f0f0f0"}):
    row.append(k.get_text())
current.append(row)
for i in soup.findAll("tr",{"class":"stockalllistbg1"}):
    row=[]
    for j in i.findAll("td"):
        row.append(j.get_text())
    current.append(row)
for i in soup.findAll("tr",{"class":"stockalllistbg2"}):
    row=[]
    for j in i.findAll("td"):
        row.append(j.get_text())
    current.append(row)
    
current.sort(key=lambda row:row[0],reverse=True)
print(soup.find("td",{"colspan":"6"}).get_text())
print_full(current)
